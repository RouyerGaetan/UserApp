@{
    ViewData["Title"] = "Événements - Vue API";
}

<h2 class="mb-4">@ViewData["Title"]</h2>

<div id="event-list" style="display: grid; gap: 1rem;"></div>

<script>
    fetch("/api/evenementsapi")
        .then(response => response.json())
        .then(data => {
            const container = document.getElementById("event-list");
            if (data.length === 0) {
                container.innerHTML = "<p>Aucun événement trouvé.</p>";
                return;
            }

            container.innerHTML = data.map(e => `
                <div style="border:1px solid #ccc; padding:1rem; border-radius:10px; box-shadow: 2px 2px 10px rgba(0,0,0,0.1);">
                    <h3>${e.titre}</h3>
                    <p><strong>Date :</strong> ${new Date(e.date).toLocaleDateString()}</p>
                    <p><strong>Ville :</strong> ${e.ville}</p>
                    <p><strong>Sport :</strong> ${e.sport}</p>
                    <p><strong>Prix :</strong> ${e.prix} €</p>
                </div>
            `).join('');
        })
        .catch(error => {
            document.getElementById("event-list").innerHTML = "<p style='color:red;'>Erreur lors du chargement des événements.</p>";
            console.error("Erreur API :", error);
        });
</script>
